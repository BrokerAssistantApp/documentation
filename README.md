# Документация BrokerAssistant

Проект **BrokerAssistant** предоставляет инструменты для управления торговыми операциями, взаимодействия между брокерами
и инвесторами, а также ведения учета финансов в контексте торгов по банкротству.

## Установка и запуск документации на Docusaurus

Проект использует **Docusaurus** для управления документацией. Ниже расписаны шаги по установке, запуску и сборке
документации.

### Технологические требования

Перед началом убедитесь, что у вас установлено:

- **Node.js** версии >=18.0
- **npm** (входит в состав Node.js)

### Установка

1. Склонируйте репозиторий проекта:
   ```bash
   git clone https://github.com/BrokerAssistantApp/documentation.git
   cd documentation
   ```

2. Установите зависимости проекта:
   ```bash
   npm install
   ```

### Сценарии запуска

#### 1. Локальный сервер разработки

Для запуска локального сервера с документацией выполните:

```bash
npm run start
```

Docusaurus запустит локальный сервер разработки, и документация будет доступна в браузере по адресу:
`http://localhost:3000`

---

#### 2. Сборка статической документации

Для генерации статической версии сайта выполните:

```bash
npm run build
```

Собранная документация будет сохранена в папке `build/`. Её можно разместить на любом веб-сервере.

---

#### 3. Очистка кеша Docusaurus

Если обнаружены проблемы во время работы Docusaurus, можно очистить ранее сохраненные данные:

```bash
npm run clear
```

---

#### 4. Деплой документации

Для публикации сайта на **GitHub Pages** выполните:

```bash
npm run deploy
```

Скрипт автоматически соберёт документацию и развернёт её на странице GitHub Pages, указанной в поле `homepage` файла
`package.json`:

## Установка и запуск OpenAPI для разработки

В проекте задействован **Swagger** для работы с документацией OpenAPI. Установка и запуск выполняются на основе
предоставленных скриптов из `package.json`.

### Технологические требования

Перед началом убедитесь, что у вас установлено:

- **Node.js** (>=18.0) — для работы с npm.
- **npm** — пакетный менеджер для установки зависимостей и запуска скриптов.

### Установка зависимостей

1. Склонируйте репозиторий проекта:
   ```bash
   git clone https://github.com/BrokerAssistantApp/documentation.git
   cd documentation
   ```

2. Установите все необходимые зависимости:
   ```bash
   npm install
   ```

### Сценарии запуска

#### 1. Сборка OpenAPI документации

Для сборки файла Swagger (`dist/swagger.yaml`) запустите команду:

```bash
npm run build:swagger
```

Этот скрипт объединяет все файлы из директории `openapi/` в один файл `dist/swagger.yaml`.

---

#### 2. Запуск локального сервера для документации

Чтобы запустить **Live Server** и просматривать скомпилированную документацию, выполните:

```bash
npm run serve:swagger
```

Локальная версия документации будет доступна по адресу: `http://127.0.0.1:8080`


---

#### 3. Автообновление документации в реальном времени

Если необходимо автоматически пересобирать и обновлять документ при изменении файлов в директории `openapi/`,
используйте следующий скрипт:

```bash
npm run watch:serve:swagger
```

Этот скрипт запускает:

- Автосборку с помощью `chokidar`, наблюдающего за изменениями в `openapi/**/*`.
- Локальный сервер Live Server, который отображает актуальную версию документации.

---

#### 4. Валидация OpenAPI документации

Для проверки корректности файла OpenAPI (`dist/swagger.yaml`) выполните:

```bash
npm run swagger:validate
```